package shlm.lmcs.com.lazycat.LazyShopAct.SystemAct;import android.annotation.SuppressLint;import android.graphics.Bitmap;import android.graphics.Typeface;import android.os.AsyncTask;import android.os.Bundle;import android.support.annotation.Nullable;import android.util.Log;import android.view.View;import android.view.ViewGroup;import android.widget.EditText;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import com.bumptech.glide.Glide;import com.bumptech.glide.request.animation.GlideAnimation;import com.bumptech.glide.request.target.SimpleTarget;import java.util.Timer;import java.util.TimerTask;import jp.wasabeef.blurry.Blurry;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyAct.LazyCatAct;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyTools.TextUnt;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyTools.ViewSet;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.Tools;import shlm.lmcs.com.lazycat.LazyShopValues.LocalValues;import shlm.lmcs.com.lazycat.R;/** * 用高斯模块来模糊商品并要求客户说出该商品的品牌 */public class SystemGuessshop extends LazyCatAct {    private String MSG = "SystemGuessshop.java[+]";    private LocalValues.HTTP_ADDRS http_addrs;    private ImageView shopImg;    private RelativeLayout shopImgBody;    private EditText et_input;    private int _countTime = 10;    private TextView _downTime;    @Override    protected void onCreate(@Nullable Bundle savedInstanceState) {        setTransparentBar();        setContentView(R.layout.activity_systemguessshop);        shopImg = findViewById(R.id.activity_systemquessshopBlurryImg);        http_addrs = new LocalValues.HTTP_ADDRS(getApplicationContext());        shopImgBody = findViewById(R.id.activity_systemquessshopBlurryBody);        /**         * 设置IMAGEVIEW的高度适配         */        ViewGroup.LayoutParams bodyParams = shopImgBody.getLayoutParams();        bodyParams.height = Tools.getScrennWidth(getApplicationContext());        bodyParams.width = Tools.getScrennWidth(getApplicationContext());        shopImgBody.setLayoutParams(bodyParams);        et_input = findViewById(R.id.activity_systemguessshopInput);        _downTime = findViewById(R.id.activity_systemguessshopCoundTime);        /**         * 设置动画         */        ViewSet.with(this, R.id.activity_systemguessshopIcodowntime).setAnimation(LocalValues.VALUES_VIEWS.SHAKE_ANIMATION_2);        init();        listener();        Tools.startDowntime(_downTime, "倒计时:", 100, new Tools.onDowntime() {            @Override            public void onDownDone() {                Toast.makeText(getApplicationContext(), "倒计时完毕", Toast.LENGTH_SHORT).show();            }        });        super.onCreate(savedInstanceState);    }    private void init() {        /**         * 设置倒计时         */        TextUnt.with(this, R.id.activity_systemguessshopCoundTime).setBackground(Tools.CreateDrawable(1, "#a9a9a9",                "#a9a9a9", 10)).setTextColor("#ffffff");        TextUnt.with(this, R.id.activity_systemguessshopTodayHaveing).setBackground(Tools.CreateDrawable(1, "#a9a9a9"                , "#a9a9a9", 10)).setTextColor("#ffffff");        /**         * 设置输入框         */        Typeface typeface = Typeface.createFromAsset(getApplication().getAssets(), "font/system_ttf" + ".ttf");        et_input.setTypeface(typeface);        et_input.setBackground(Tools.CreateDrawable(1, "#ffffff", "#ffffff", 20));        /**         * 设置高斯模糊         */        try {            Glide.with(getApplicationContext()).load(http_addrs.HTTP_ADDR_PROGRAM_IMGSERVICE + "2019_10_09" + "/2020_1_1_a.jpg").asBitmap().into(new SimpleTarget<Bitmap>() {                @Override                public void onResourceReady(Bitmap resource, GlideAnimation<? super Bitmap> glideAnimation) {                    Blurry.with(SystemGuessshop.this).radius(10).sampling(10).async().from(resource).into(shopImg);                }            });        } catch (Exception e) {            Log.i(MSG, e.getMessage());        }        /**/    }    /**     * 监听事件     */    private void listener() {        /**         * 退出IMAGE监听         */        findViewById(R.id.activity_systemguessshopBtnback).setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (isBacktrue()) {                    finish();                } else {                }            }        });        /**         * 退出要提示用户是否确认放弃答题         */        setBackStatic(true, new onBacklistener() {            @Override            public Boolean onBack() {                if (isBacktrue()) {                    return true;                } else {                    return false;                }            }        });    }    /**     * 确定退出     *     * @return     */    private boolean isBacktrue() {        return true;    }}