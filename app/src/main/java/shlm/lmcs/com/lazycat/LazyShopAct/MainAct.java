package shlm.lmcs.com.lazycat.LazyShopAct;import android.annotation.SuppressLint;import android.app.FragmentTransaction;import android.graphics.Color;import android.os.Bundle;import android.support.graphics.drawable.VectorDrawableCompat;import android.view.View;import android.view.animation.Animation;import android.view.animation.AnimationUtils;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyAct.LazyCatAct;import shlm.lmcs.com.lazycat.LazyShopFrg.Deliveryfrg;import shlm.lmcs.com.lazycat.LazyShopFrg.Mainfrg;import shlm.lmcs.com.lazycat.R;public class MainAct extends LazyCatAct {    private FragmentTransaction ft;    private RelativeLayout btn_main, btn_delivery, btn_usercenter;    private Mainfrg mainfrg;    private Deliveryfrg deliveryfrg;    private final static int ICO_FRAGMENT_MAIN = 0;    private final static int ICO_FRAGMENT_DELIVERY = 1;    private final static int ICO_FRAGMENT_USERCENTER = 2;    @Override    protected void onCreate(Bundle savedInstanceState) {        setContentView(R.layout.activity_main);        init();        super.onCreate(savedInstanceState);    }    @SuppressLint({"ResourceType", "NewApi"})    private void init() {        setStatusBar(getResources().getString(R.color.ThemeColor));        setBackStatic(true);        //尝试加载Fragment        ft = this.getFragmentManager().beginTransaction();        mainfrg = new Mainfrg();        ft.add(R.id.activity_main_Framelayout, mainfrg);        ft.commit();        //找寻对于的ID号码        btn_main = findViewById(R.id.activity_main_btn_IcoMain);//主界面        btn_delivery = findViewById(R.id.activity_main_btn_IcoDelivery);//配送界面        btn_usercenter = findViewById(R.id.activity_main_btn_IcoUserCenter);//个人中心        final Animation animation = AnimationUtils.loadAnimation(getApplicationContext(), R.anim                .android_anim_big_to_smail);        btn_main.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                hideFragment();                showFragment(ICO_FRAGMENT_MAIN);                ClearallIcoBackground();                RelativeLayout rl = (RelativeLayout) v;                setIcoNavColor(rl, R.drawable.ico_main, animation);                LazyCatActStartActivity(ShowshopOffice.class,false);            }        });        btn_delivery.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                ClearallIcoBackground();                hideFragment();                showFragment(ICO_FRAGMENT_DELIVERY);                RelativeLayout rl = (RelativeLayout) v;                setIcoNavColor(rl, R.drawable.ico_delivery, animation);            }        });        btn_usercenter.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                ClearallIcoBackground();                RelativeLayout rl = (RelativeLayout) v;                setIcoNavColor(rl, R.drawable.ico_usercenter, animation);            }        });    }    /**     * 清空所有的导航的颜色值     */    @SuppressLint("ResourceType")    private void ClearallIcoBackground() {        ImageView btn_mainImg = (ImageView) btn_main.getChildAt(0);//第0号的位置就是Image        TextView btn_mainTv = (TextView) btn_main.getChildAt(1);        btn_mainTv.setTextColor(Color.parseColor("#666666"));        ImageView btn_deliveryImg = (ImageView) btn_delivery.getChildAt(0);        TextView btn_deliveryTv = (TextView) btn_delivery.getChildAt(1);        btn_deliveryTv.setTextColor(Color.parseColor("#666666"));        ImageView btn_usercenterImg = (ImageView) btn_usercenter.getChildAt(0);        TextView btn_usercenterTv = (TextView) btn_usercenter.getChildAt(1);        btn_usercenterTv.setTextColor(Color.parseColor("#666666"));        //设置默认的第一个导航的颜色        VectorDrawableCompat btn_mainImgVD = VectorDrawableCompat.create(getResources(), R                .drawable.ico_main, getTheme());        btn_mainImgVD.setTint(Color.parseColor("#666666"));        btn_mainImg.setImageDrawable(btn_mainImgVD);        //设置默认的第二个导航的颜色        VectorDrawableCompat btn_deilveryImgVD = VectorDrawableCompat.create(getResources(), R                .drawable.ico_delivery, getTheme());        btn_deilveryImgVD.setTint(Color.parseColor("#666666"));        btn_deliveryImg.setImageDrawable(btn_deilveryImgVD);        //设置默认的第三个导航的颜色        VectorDrawableCompat btn_usercenterImgVD = VectorDrawableCompat.create(getResources(), R                .drawable.ico_usercenter, getTheme());        btn_usercenterImgVD.setTint(Color.parseColor("#666666"));        btn_usercenterImg.setImageDrawable(btn_usercenterImgVD);    }    @SuppressLint("ResourceType")    private void setIcoNavColor(RelativeLayout rl, int image, Animation animation) {        ImageView iv = (ImageView) rl.getChildAt(0);//第一个就是图标        VectorDrawableCompat vectorDrawableCompat = VectorDrawableCompat.create(getResources(),                image, getTheme());        vectorDrawableCompat.setTint(Color.parseColor(getResources().getString(R.color                .ThemeColor)));        iv.setImageDrawable(vectorDrawableCompat);        iv.startAnimation(animation);        TextView tv = (TextView) rl.getChildAt(1);        tv.setTextColor(Color.parseColor(getResources().getString(R.color.ThemeColor)));    }    private void showFragment(int position) {        FragmentTransaction ft = getFragmentManager().beginTransaction();        switch (position) {            case ICO_FRAGMENT_MAIN:                if (mainfrg != null) {                    ft.show(mainfrg);                } else {                    mainfrg = new Mainfrg();                    ft.add(R.id.activity_main_Framelayout, mainfrg);                }                break;            case ICO_FRAGMENT_DELIVERY:                if (deliveryfrg != null) {                    ft.show(deliveryfrg);                } else {                    deliveryfrg = new Deliveryfrg();                    ft.add(R.id.activity_main_Framelayout, deliveryfrg);                }                break;            case ICO_FRAGMENT_USERCENTER:                break;        }        ft.commit();    }    private void hideFragment() {        FragmentTransaction ft = getFragmentManager().beginTransaction();        if (mainfrg != null) {            ft.hide(mainfrg);        }        if (deliveryfrg != null) {            ft.hide(deliveryfrg);        }        ft.commit();    }}