package shlm.lmcs.com.lazycat.LazyShopAct;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Toast;import io.github.xudaojie.qrcodelib.CaptureActivity;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyAct.LazyCatAct;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyTools.TextUnt;import shlm.lmcs.com.lazycat.LazyShopValues.LocalValues;import shlm.lmcs.com.lazycat.R;public class ScanBarcodeAct extends LazyCatAct {    @Override    protected void onCreate(Bundle savedInstanceState) {        setContentView(R.layout.activity_scanbarcode);        /*设置标题*/        TextUnt.with(this, R.id.assembly_act_headTitle).setText("扫一扫");        setTransparentBar();        init();        super.onCreate(savedInstanceState);    }    /**     * 初始化 调用扫描器     */    private void init() {        Listener();        StartScanActivity();    }    /**     * VIEW的事件监听     */    private void Listener() {        /*退出的点击监听事件*/        findViewById(R.id.assembly_act_headBackImg).setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                finish();            }        });    }    private void StartScanActivity() {        Intent i = new Intent(this, CaptureActivity.class);        startActivityForResult(i, LocalValues.VALUES_SCAN.VALUES_QR_CODE);    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        super.onActivityResult(requestCode, resultCode, data);        if (resultCode == RESULT_OK && requestCode == LocalValues.VALUES_SCAN.VALUES_QR_CODE &&                data != null) {            String result = data.getStringExtra("result");            doGetScandata(result);        } else {            doCantScan();        }    }    /**     * 无法获取扫描数据的通知     */    private void doCantScan() {        Toast.makeText(getApplicationContext(), "无法获取扫描结果,请重试", Toast.LENGTH_SHORT).show();    }    /**     * 获取到扫描结果之后的处理事件     */    private void doGetScandata(String _scanData) {        Toast.makeText(getApplicationContext(), "扫描的数据为:" + _scanData, Toast.LENGTH_SHORT).show();        if (_scanData.equals("9787302387947")) {            Toast.makeText(getApplicationContext(), "您扫描的是一本书,书名叫JavaWeb程序开发入门", Toast                    .LENGTH_SHORT).show();        }        Toast.makeText(getApplicationContext(), "再说一句,刘钰我爱你.爱你,我愿意付出全部的时光去守护你" + _scanData, Toast                .LENGTH_SHORT).show();    }}