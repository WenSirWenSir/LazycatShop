package shlm.lmcs.com.lazycat.SuperSystemOS;import android.os.Bundle;import android.os.PersistableBundle;import android.support.annotation.Nullable;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.ListView;import android.widget.Toast;import com.bumptech.glide.Glide;import com.bumptech.glide.load.engine.DiskCacheStrategy;import java.util.ArrayList;import okhttp3.internal.cache.CacheStrategy;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyAct.LazyCatAct;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyTools.TextUnt;import shlm.lmcs.com.lazycat.LazyShopValues.LocalAction;import shlm.lmcs.com.lazycat.LazyShopValues.LocalValues;import shlm.lmcs.com.lazycat.R;import shlm.lmcs.com.lazycat.SuperSystemOS.SuperSystemclass.PullshopsUsers;/** * 展示一个取货商品的所有要求取货的终端列表 */public class PickshopinforUser extends LazyCatAct {    private String MSG = "PickshopinfoUser.java[+]";    private String _onlyID;    private LocalValues.HTTP_ADDRS http_addrs;    private ListView _listview;    @Override    protected void onCreate(@Nullable Bundle savedInstanceState) {        setContentView(R.layout.activity_superpickshopinfouser);        setStatusBar("#efefef");        TextUnt.with(this, R.id.assembly_act_headTitle).setText("确定取货数量");        setBackListener(R.id.assembly_act_headBackImg);        /*获取商品的唯一ID*/        _onlyID = getBundlerValue(LocalAction.ACTION_SHOPVALUES.ACTION_SHOPVALUES_ONLYID);        _listview = findViewById(R.id.activity_superpickshopinforListview);        http_addrs = new LocalValues.HTTP_ADDRS(getApplicationContext());        init();        listener();        super.onCreate(savedInstanceState);    }    private void init() {        PullshopsUsers._pull(PickshopinforUser.this, _onlyID, new PullshopsUsers._onPullusers() {            @Override            public void _onGet(ArrayList<PullshopsUsers._Userpages> _users, PullshopsUsers._Goodpage goodpage) {                /*设置取货商品的数据*/                ImageView img = findViewById(R.id.item_superpickshopImg);                TextUnt.with(PickshopinforUser.this, R.id.item_superpickshopTitle).setText(goodpage._title);                TextUnt.with(PickshopinforUser.this, R.id.item_superpickshopPayhow).setText(goodpage._payhow);                TextUnt.with(PickshopinforUser.this, R.id.item_superpickshopSpec).setText(goodpage._company + "装:" + goodpage._spec + goodpage._splitunit);                TextUnt.with(PickshopinforUser.this, R.id.item_superpickshopTp).setText("单件批价:" + goodpage._tp);                TextUnt.with(PickshopinforUser.this, R.id.item_superpickshopPayhow).setText("待取货:" + goodpage._payhow);                Glide.with(getApplicationContext()).load(http_addrs.HTTP_ADDR_PROGRAM_IMGSERVICE + goodpage._img).diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(false).into(img);                inforUseradapter _InforUseradapter = new inforUseradapter(_users);                _listview.setAdapter(_InforUseradapter);                Log.i(MSG, "累计数据:" + _users.size());            }            @Override            public void _onError() {            }        });    }    /**     * 监听事件     */    private void listener() {    }    class inforUseradapter extends BaseAdapter {        ArrayList<PullshopsUsers._Userpages> ar_list;        public inforUseradapter(ArrayList<PullshopsUsers._Userpages> _list) {            this.ar_list = _list;        }        @Override        public int getCount() {            return this.ar_list.size();        }        @Override        public Object getItem(int position) {            return position;        }        @Override        public long getItemId(int position) {            return position;        }        @Override        public View getView(int position, View convertView, ViewGroup parent) {            Values values;            if (convertView != null) {                values = (Values) convertView.getTag();            } else {                values = new Values();                convertView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.item_superpickuser, null,                        false);                convertView.setTag(values);            }            /*设置商店名称*/            TextUnt.with(convertView, R.id.item_superpickuserName).setText(this.ar_list.get(position)._name);            /*设置商店电话*/            TextUnt.with(convertView, R.id.item_superpickuserTel).setText(this.ar_list.get(position)._tel);            /*设置商店地址*/            TextUnt.with(convertView, R.id.item_superpickuserAddr).setText(this.ar_list.get(position)._addr);            /*设置商店购买数量*/            TextUnt.with(convertView, R.id.item_superpickuserPayhow).setText("该商家订购:" + this.ar_list.get(position)._payhow);            /*设置店铺所有人*/            TextUnt.with(convertView, R.id.item_superpickuserPeople).setText(this.ar_list.get(position)._people);            return convertView;        }        class Values {        }    }}