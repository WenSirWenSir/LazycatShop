package shlm.lmcs.com.lazycat.LazyShopAct;import android.os.Bundle;import android.widget.Toast;import com.baidu.location.BDAbstractLocationListener;import com.baidu.location.BDLocation;import com.baidu.location.LocationClient;import com.baidu.location.LocationClientOption;import com.baidu.mapapi.SDKInitializer;import com.baidu.mapapi.map.BaiduMap;import com.baidu.mapapi.map.MapStatusUpdate;import com.baidu.mapapi.map.MapStatusUpdateFactory;import com.baidu.mapapi.map.MapView;import com.baidu.mapapi.map.MyLocationData;import com.baidu.mapapi.model.LatLng;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyAct.LazyCatAct;import shlm.lmcs.com.lazycat.R;public class Map extends LazyCatAct {    private BaiduMap baiduMap = null;    private MapView mapView;    private LocationClient locationClient = null;    private LocationClientOption locationClientOptions = null;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        SDKInitializer.initialize(getApplicationContext());        setContentView(R.layout.activity_map);        mapView = findViewById(R.id.map);        baiduMap = mapView.getMap();        baiduMap.setMyLocationEnabled(true);        locationClient = new LocationClient(getApplicationContext());        locationClientOptions = new LocationClientOption();        locationClientOptions.setCoorType("bd09ll");        locationClientOptions.setOpenGps(true);/*一定要打开GPS 不然无法进行定位*/        locationClientOptions.setIsNeedAddress(true);        locationClient.setLocOption(locationClientOptions);        /**         * 注册监听器         */        locationClient.registerLocationListener(new BDAbstractLocationListener() {            @Override            public void onReceiveLocation(BDLocation bdLocation) {                if (bdLocation == null) {                    Toast.makeText(getApplicationContext(), "没有定位数据信息", Toast.LENGTH_SHORT).show();                }                if (mapView == null) {                    locationClient.stop();                } else {                    /**                     * 显示蓝点的位置                     */                    MyLocationData myLocationData = new MyLocationData.Builder().accuracy(300)                            .direction(bdLocation.getDirection()).latitude(bdLocation.getLatitude                                    ()).longitude(bdLocation.getLongitude()).build();                    /**                     * 获取到之后 就设置地图模块                     */                    baiduMap.setMyLocationData(myLocationData);                    LatLng latLng = new LatLng(bdLocation.getLatitude(), bdLocation.getLongitude());                    MapStatusUpdate mapStatusupdate = MapStatusUpdateFactory.newLatLng(latLng);                    baiduMap.animateMapStatus(mapStatusupdate);                    mapStatusupdate = MapStatusUpdateFactory.zoomTo(18);                    baiduMap.animateMapStatus(mapStatusupdate);                }            }        });        locationClient.start();        /*设置定位参数*/        init();    }    private void init() {    }    class inDataListener extends BDAbstractLocationListener {        @Override        public void onReceiveLocation(BDLocation bdLocation) {        }    }}