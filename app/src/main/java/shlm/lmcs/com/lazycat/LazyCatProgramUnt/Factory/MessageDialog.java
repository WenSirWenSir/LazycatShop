package shlm.lmcs.com.lazycat.LazyCatProgramUnt.Factory;import android.app.Activity;import android.app.AlertDialog;import android.app.Dialog;import android.content.Context;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.widget.TextView;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyTools.TextUnt;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyValues.CompanyDialog;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.Tools;public class MessageDialog {    private static final String MSG = "MessageDialog.java[+]";    static MessageDialogInstance messageDialogInstance;    public static MessageDialog.MessageDialogInstance getMessageDialogInstance(Context _context,                                                                               CompanyDialog                                                                                       .InitMessageId _initMessageId) {        if (_context instanceof Activity && _initMessageId != null) {            messageDialogInstance = new MessageDialogInstance(_context, _initMessageId);            return messageDialogInstance;        } else {            return null;        }    }    /**     * 信息对话框     */    public static class MessageDialogInstance {        private AlertDialog.Builder builder;        private AlertDialog dialog;        private BtnClickListener btnClickListener = null;        /**         * 必须传入Activity的实体         *         * @param _context         */        public MessageDialogInstance(Context _context, CompanyDialog.InitMessageId initMessageId) {            builder = new AlertDialog.Builder(_context);            try {                View item = LayoutInflater.from(_context).inflate(initMessageId.getItem(), null);                builder.setView(item);                /*设置内容*/                TextUnt.with((TextView) item.findViewById(initMessageId.getContent())).setText                        (initMessageId.getContentMessage().trim());                /*设置LOG的样式*/                TextUnt.with((TextView) item.findViewById(initMessageId.getCk_log()))                        .setBackground(Tools.CreateDrawable(1, "#f30d88", "#f30d88", 50))                        .setTextColor("#ffffff");                TextUnt.with((TextView) item.findViewById(initMessageId.getTitle())).setText                        (initMessageId.getTitleMessage());                /*取消按钮点击的事件*/                item.findViewById(initMessageId.getBtn_cancal()).setOnClickListener(new View                        .OnClickListener() {                    @Override                    public void onClick(View v) {                        if (btnClickListener != null) {                            btnClickListener.onCancale(dialog);                        }                    }                });                /*确定按钮的点击事件*/                item.findViewById(initMessageId.getBtn_sure()).setOnClickListener(new View                        .OnClickListener() {                    @Override                    public void onClick(View v) {                        if (btnClickListener != null) {                            btnClickListener.onSure(dialog);                        }                    }                });                dialog = builder.create();            } catch (Exception e) {                Log.e(MSG, "初始化Dialog错误,错误原因" + e.getMessage());            }        }        /**         * 显示         */        public void doShow() {            if (dialog != null) {                dialog.show();            }        }        /**         * 销毁         */        public void doDismiss() {            if (dialog != null) {                dialog.dismiss();            }        }        /**         * 设置是否可以点击屏幕关闭         *         * @param is         */        public void setCanclose(Boolean is) {            builder.setCancelable(is);        }        public void setBtnClickListener(BtnClickListener _btnClickListener) {            this.btnClickListener = _btnClickListener;        }        public interface BtnClickListener {            void onSure(Dialog _dialog);            void onCancale(Dialog _dialog);        }    }}