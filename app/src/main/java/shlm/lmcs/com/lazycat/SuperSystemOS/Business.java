/* * 我会用双手书写我来到这个世界的意义 */package shlm.lmcs.com.lazycat.SuperSystemOS;import android.os.Bundle;import android.renderscript.Sampler;import android.support.annotation.Nullable;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.LinearLayout;import android.widget.ListView;import android.widget.Toast;import java.util.ArrayList;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyAct.LazyCatAct;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.CompanyTools.TextUnt;import shlm.lmcs.com.lazycat.LazyCatProgramUnt.Tools;import shlm.lmcs.com.lazycat.LazyShopValues.LocalAction;import shlm.lmcs.com.lazycat.R;import shlm.lmcs.com.lazycat.SuperSystemOS.SuperSystemclass.PullGetbusiness;/** * 地勤取货操作 */public class Business extends LazyCatAct {    private String MSG = "Business.java[+]";    private ListView _listView;    @Override    protected void onCreate(@Nullable Bundle savedInstanceState) {        setStatusBar("#efefef");        setContentView(R.layout.activity_superbusiness);        _listView = findViewById(R.id.activity_supershopsList);        TextUnt.with(this, R.id.assembly_act_headTitle).setText("等待取货商家列表");        setBackListener(R.id.assembly_act_headBackImg);        super.onCreate(savedInstanceState);        init();    }    /**     * 初始化     */    private void init() {        PullGetbusiness._start(Business.this, new PullGetbusiness._onPulldone() {            @Override            public void _onGet(ArrayList<PullGetbusiness.Businesspages> _Business) {                AdatperBusiness adatperBusiness = new AdatperBusiness(_Business);                _listView.setAdapter(adatperBusiness);                Log.i(MSG, "总共有" + _Business.size() + "商家");            }            @Override            public void _onError() {            }        });    }    class AdatperBusiness extends BaseAdapter {        private ArrayList<PullGetbusiness.Businesspages> ar_list;        public AdatperBusiness(ArrayList<PullGetbusiness.Businesspages> _list) {            this.ar_list = _list;        }        @Override        public int getCount() {            return this.ar_list.size();        }        @Override        public Object getItem(int position) {            return position;        }        @Override        public long getItemId(int position) {            return position;        }        @Override        public View getView(int position, View convertView, ViewGroup parent) {            Values values;            if (convertView != null) {                values = (Values) convertView.getTag();            } else {                values = new Values();                convertView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.item_superbusiness, null,                        false);                convertView.findViewById(R.id.item_superbusinessBody).setBackground(Tools.CreateDrawable(1, "#ffffff"                        , "#ffffff", 5));                values._body = convertView.findViewById(R.id.item_superbusinessBody);                values._code = this.ar_list.get(position)._code;                convertView.setTag(values);            }            /**             * 设置TAG             */            values._body.setTag(values);            /**             * 设置数据             */            TextUnt.with(convertView, R.id.item_superbusinessBueinssname).setText(this.ar_list.get(position)._name);            TextUnt.with(convertView, R.id.item_superbusinessPayhow).setText(this.ar_list.get(position)._payhow + "/件");            TextUnt.with(convertView, R.id.item_superbusinessTel).setText(this.ar_list.get(position)._tel);            TextUnt.with(convertView, R.id.item_superbusinessTotal).setText("￥" + this.ar_list.get(position)._total + "元");            values._body.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    Values vl = (Values) v.getTag();                    LazyCatStartActivityWithBundler(Pickshops.class, false,                            LocalAction.ACTION_SUPERBUSINESS._BUSINESSCODE, vl._code);                }            });            return convertView;        }        class Values {            LinearLayout _body;            String _code;        }    }}